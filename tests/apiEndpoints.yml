name: apiRoutes
vars:
  URL: "http://192.168.0.91:5000"

testcases:

- name: Test baseRoute
  steps:
  - type: tavern
    request:
      url: "{{.URL}}/"
      method: GET
    response:
      statusCode: 200
      headers:
        Content-Type: "text/plain; charset=utf-8"

- name: Test endpointsRoute
  steps:
  - type: tavern
    request:
      url: "{{.URL}}/api/v1"
      method: GET
    response:
      statusCode: 200
      headers:
        Content-Type: "application/json"

- name: Test cpuRoute
  steps:
  - type: tavern
    request:
      url: "{{.URL}}/api/v1/cpu"
      method: GET
    response:
      statusCode: 200
      headers:
        Content-Type: "application/json"

- name: Test hostRoute
  steps:
  - type: tavern
    request:
      url: "{{.URL}}/api/v1/host"
      method: GET
    response:
      statusCode: 200
      headers:
        Content-Type: "application/json"

- name: Test loadRoute
  steps:
  - type: tavern
    request:
      url: "{{.URL}}/api/v1/load"
      method: GET
    response:
      statusCode: 200
      headers:
        Content-Type: "application/json"

- name: Test memRoute
  steps:
  - type: tavern
    request:
      url: "{{.URL}}/api/v1/mem"
      method: GET
    response:
      statusCode: 200
      headers:
        Content-Type: "application/json"

- name: Test apiRoutes
  steps:
  - type: tavern
    request:
      url: "{{.URL}}/api/v1/net"
      method: GET
    response:
      statusCode: 200
      headers:
        Content-Type: "application/json"

- name: Test not found
  steps:
  - type: tavern
    request:
      url: "{{.URL}}/badEndpoint"
      method: GET
    response:
      statusCode: 404
      body: "Cannot GET /badEndpoint"